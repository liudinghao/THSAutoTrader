{"version":3,"file":"WindowControl-0cf8bb1e.js","sources":["../../front/src/views/WindowControl.vue"],"sourcesContent":["<template>\r\n  <el-card class=\"window-control-card\">\r\n    <template #header>\r\n      <div class=\"card-header\">\r\n        <span class=\"title\">Window 控制调试</span>\r\n      </div>\r\n    </template>\r\n\r\n    <div class=\"api-list\">\r\n      <el-card\r\n        v-for=\"api in apis\"\r\n        :key=\"api.url\"\r\n        class=\"api-item\"\r\n        shadow=\"hover\"\r\n      >\r\n        <div class=\"api-content\">\r\n          <span class=\"api-label\">{{ api.label }}</span>\r\n          <el-input\r\n            v-model=\"api.url\"\r\n            class=\"api-url\"\r\n            readonly\r\n          >\r\n            <template #prepend>\r\n              <el-icon><Link /></el-icon>\r\n            </template>\r\n          </el-input>\r\n          <el-button\r\n            type=\"primary\"\r\n            :icon=\"loadingStates[api.url] ? Loading : Position\"\r\n            :loading=\"loadingStates[api.url]\"\r\n            @click=\"handleApiCall(api.url)\"\r\n          >\r\n            {{ loadingStates[api.url] ? '请求中...' : '执行' }}\r\n          </el-button>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n\r\n    <!-- 返回结果区域 -->\r\n    <div class=\"result-section\">\r\n      <div class=\"section-header\">\r\n        <el-icon><Document /></el-icon>\r\n        <span>返回结果</span>\r\n      </div>\r\n      <el-input\r\n        v-model=\"localResult\"\r\n        type=\"textarea\"\r\n        :rows=\"6\"\r\n        readonly\r\n        placeholder=\"API调用结果将显示在这里...\"\r\n        class=\"result-textarea\"\r\n      />\r\n    </div>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, watch } from 'vue'\r\nimport { Link, Position, Loading, Document } from '@element-plus/icons-vue'\r\n\r\nexport default {\r\n  name: 'WindowControl',\r\n  components: {\r\n    Link,\r\n    Position,\r\n    Loading,\r\n    Document\r\n  },\r\n  props: {\r\n    result: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  emits: ['api-call'],\r\n  setup(props, { emit }) {\r\n    const localResult = ref(props.result)\r\n\r\n    watch(() => props.result, (newValue) => {\r\n      localResult.value = newValue\r\n    })\r\n\r\n    const apis = ref([\r\n      {\r\n        label: '获取持仓',\r\n        url: 'http://localhost:5000/position'\r\n      },\r\n      {\r\n        label: '获取资金',\r\n        url: 'http://localhost:5000/balance'\r\n      },\r\n      {\r\n        label: '下单接口',\r\n        url: 'http://localhost:5000/xiadan?code=600000&status=1'\r\n      },\r\n      {\r\n        label: '撤单接口',\r\n        url: 'http://localhost:5000/cancel_all_orders'\r\n      }\r\n    ])\r\n\r\n    const loadingStates = reactive({})\r\n    \r\n    apis.value.forEach(api => {\r\n      loadingStates[api.url] = false\r\n    })\r\n\r\n    const handleApiCall = async (url) => {\r\n      loadingStates[url] = true\r\n      try {\r\n        await emit('api-call', url)\r\n      } finally {\r\n        loadingStates[url] = false\r\n      }\r\n    }\r\n\r\n    return {\r\n      apis,\r\n      loadingStates,\r\n      handleApiCall,\r\n      localResult\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.title {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n}\r\n\r\n.api-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.api-item {\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.api-item:hover {\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.api-content {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.api-label {\r\n  min-width: 80px;\r\n  font-weight: 500;\r\n  color: var(--el-text-color-primary);\r\n}\r\n\r\n.api-url {\r\n  flex: 1;\r\n}\r\n\r\n.result-section {\r\n  margin-top: 20px;\r\n}\r\n\r\n.section-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  margin-bottom: 12px;\r\n  font-weight: 500;\r\n  color: var(--el-text-color-primary);\r\n}\r\n\r\n.result-textarea {\r\n  font-family: monospace;\r\n  background-color: var(--el-bg-color-page);\r\n}\r\n\r\n:deep(.el-card__body) {\r\n  padding: 10px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .api-content {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n\r\n  .api-label {\r\n    min-width: auto;\r\n  }\r\n}\r\n</style> "],"names":["_sfc_main","Link","Position","Loading","Document","props","emit","localResult","ref","watch","newValue","apis","loadingStates","reactive","api","url","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createBlock","_component_el_card","_cache","_createElementVNode","_createElementBlock","_Fragment","_renderList","$setup","_toDisplayString","_createVNode","_component_el_input","$event","_component_el_icon","_component_Link","_component_el_button","_ctx","_component_Document"],"mappings":"sKA4DA,MAAKA,EAAU,CACb,KAAM,gBACN,WAAY,MACVC,EACA,SAAAC,EACA,QAAAC,EACA,SAAAC,CACD,EACD,MAAO,CACL,OAAQ,CACN,KAAM,OACN,QAAS,EACX,CACD,EACD,MAAO,CAAC,UAAU,EAClB,MAAMC,EAAO,CAAE,KAAAC,GAAQ,CACrB,MAAMC,EAAcC,EAAIH,EAAM,MAAM,EAEpCI,EAAM,IAAMJ,EAAM,OAASK,GAAa,CACtCH,EAAY,MAAQG,EACrB,EAED,MAAMC,EAAOH,EAAI,CACf,CACE,MAAO,OACP,IAAK,gCACN,EACD,CACE,MAAO,OACP,IAAK,+BACN,EACD,CACE,MAAO,OACP,IAAK,mDACN,EACD,CACE,MAAO,OACP,IAAK,yCACP,EACD,EAEKI,EAAgBC,EAAS,EAAE,EAEjC,OAAAF,EAAK,MAAM,QAAQG,GAAO,CACxBF,EAAcE,EAAI,GAAG,EAAI,GAC1B,EAWM,CACL,KAAAH,EACA,cAAAC,EACA,cAZoB,MAAOG,GAAQ,CACnCH,EAAcG,CAAG,EAAI,GACrB,GAAI,CACF,MAAMT,EAAK,WAAYS,CAAG,CAC5B,QAAU,CACRH,EAAcG,CAAG,EAAI,EACvB,CACF,EAME,YAAAR,CACF,CACF,CACF,EAnHSS,EAAA,CAAA,MAAM,UAAU,EAOZC,EAAA,CAAA,MAAM,aAAa,EAChBC,EAAA,CAAA,MAAM,WAAW,EAuBxBC,EAAA,CAAA,MAAM,gBAAgB,EACpBC,EAAA,CAAA,MAAM,gBAAgB,sIAvC/BC,EAoDUC,EAAA,CApDD,MAAM,uBAAqB,CACvB,SACT,IAEMC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAFNC,EAEM,MAAA,CAFD,MAAM,aAAa,EAAA,CACtBA,EAAsC,OAAhC,CAAA,MAAM,OAAO,EAAC,aAAW,oBAInC,IA4BM,CA5BNA,EA4BM,MA5BNR,EA4BM,QA3BJS,EA0BUC,EAAA,KAAAC,EAzBMC,EAAI,KAAXd,QADTO,EA0BUC,EAAA,CAxBP,IAAKR,EAAI,IACV,MAAM,WACN,OAAO,oBAEP,IAmBM,CAnBNU,EAmBM,MAnBNP,EAmBM,CAlBJO,EAA8C,OAA9CN,EAA2BW,EAAAf,EAAI,KAAK,EAAA,CAAA,EACpCgB,EAQWC,EAAA,CAPA,WAAAjB,EAAI,IAAJ,sBAAAkB,GAAAlB,EAAI,IAAGkB,EAChB,MAAM,UACN,SAAA,KAEW,UACT,IAA2B,CAA3BF,EAA2BG,EAAA,KAAA,WAAlB,IAAQ,CAARH,EAAQI,CAAA,4DAGrBJ,EAOYK,EAAA,CANV,KAAK,UACJ,KAAMP,gBAAcd,EAAI,GAAG,EAAIsB,EAAO,QAAGA,EAAQ,SACjD,QAASR,EAAA,cAAcd,EAAI,GAAG,EAC9B,QAAOkB,GAAAJ,EAAA,cAAcd,EAAI,GAAG,cAE7B,IAA8C,KAA3Cc,EAAa,cAACd,EAAI,GAAG,EAAA,SAAA,IAAA,EAAA,CAAA,qEAOhCU,EAaM,MAbNL,EAaM,CAZJK,EAGM,MAHNJ,EAGM,CAFJU,EAA+BG,EAAA,KAAA,WAAtB,IAAY,CAAZH,EAAYO,CAAA,UACrBd,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAAiB,YAAX,OAAI,EAAA,KAEZM,EAOEC,EAAA,YANSH,EAAW,iDAAXA,EAAW,YAAAI,GACpB,KAAK,WACJ,KAAM,EACP,SAAA,GACA,YAAY,mBACZ,MAAM"}