import{_ as b,l as C,p as V,a as x,d as L,r as h,w as S,b as A,c as d,o as u,e as g,f as n,g as o,h as B,i as D,F as W,j as s,t as v,k as N}from"./index-8491b902.js";const P={name:"WindowControl",components:{Link:C,Position:V,Loading:x,Document:L},props:{result:{type:String,default:""}},emits:["api-call"],setup(c,{emit:t}){const i=h(c.result);S(()=>c.result,a=>{i.value=a});const l=h([{label:"获取持仓",url:"http://localhost:5000/position"},{label:"获取资金",url:"http://localhost:5000/balance"},{label:"下单接口",url:"http://localhost:5000/xiadan?code=600000&status=1"},{label:"撤单接口",url:"http://localhost:5000/cancel_all_orders"}]),r=A({});return l.value.forEach(a=>{r[a.url]=!1}),{apis:l,loadingStates:r,handleApiCall:async a=>{r[a]=!0;try{await t("api-call",a)}finally{r[a]=!1}},localResult:i}}},R={class:"api-list"},U={class:"api-content"},E={class:"api-label"},F={class:"result-section"},I={class:"section-header"};function j(c,t,i,l,r,y){const a=d("Link"),_=d("el-icon"),p=d("el-input"),w=d("el-button"),m=d("el-card"),k=d("Document");return u(),g(m,{class:"window-control-card"},{header:n(()=>t[1]||(t[1]=[o("div",{class:"card-header"},[o("span",{class:"title"},"Window 控制调试")],-1)])),default:n(()=>[o("div",R,[(u(!0),B(W,null,D(l.apis,e=>(u(),g(m,{key:e.url,class:"api-item",shadow:"hover"},{default:n(()=>[o("div",U,[o("span",E,v(e.label),1),s(p,{modelValue:e.url,"onUpdate:modelValue":f=>e.url=f,class:"api-url",readonly:""},{prepend:n(()=>[s(_,null,{default:n(()=>[s(a)]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"]),s(w,{type:"primary",icon:l.loadingStates[e.url]?c.Loading:c.Position,loading:l.loadingStates[e.url],onClick:f=>l.handleApiCall(e.url)},{default:n(()=>[N(v(l.loadingStates[e.url]?"请求中...":"执行"),1)]),_:2},1032,["icon","loading","onClick"])])]),_:2},1024))),128))]),o("div",F,[o("div",I,[s(_,null,{default:n(()=>[s(k)]),_:1}),t[2]||(t[2]=o("span",null,"返回结果",-1))]),s(p,{modelValue:l.localResult,"onUpdate:modelValue":t[0]||(t[0]=e=>l.localResult=e),type:"textarea",rows:6,readonly:"",placeholder:"API调用结果将显示在这里...",class:"result-textarea"},null,8,["modelValue"])])]),_:1})}const q=b(P,[["render",j],["__scopeId","data-v-9880dda5"]]);export{q as default};
//# sourceMappingURL=WindowControl-0cf8bb1e.js.map
