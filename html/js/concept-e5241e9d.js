import{a as s}from"./axios-3a665b0f.js";import{e as p}from"./quoteApi-6a89f341.js";const d=async e=>{try{return await p(e)}catch(t){throw console.error("获取概念股票失败:",t),new Error(`获取概念 ${e} 的股票失败: ${t.message}`)}},w=async e=>{try{const t=await s.post("https://www.wttiao.com/moni/concepts/relations",{relations:e},{headers:{"Content-Type":"application/json"}});if(t.status===200)return t.data;throw new Error("保存失败")}catch(t){throw console.error("保存概念股票关系失败:",t),new Error(`保存概念股票关系失败: ${t.message}`)}},m=async(e=!1)=>{try{const t=await s.get("https://www.wttiao.com/moni/concepts/list/",{headers:{"Content-Type":"application/json"}});if(t.data.code===0&&t.data.data)if(e){const o=t.data.data.map(r=>r.code);return console.log(`成功获取 ${o.length} 个概念代码`),o}else return t.data.data;else throw new Error(t.data.msg||"获取概念列表失败")}catch(t){throw console.error("获取概念列表失败:",t),new Error(`获取概念列表失败: ${t.message}`)}},g=async()=>{try{const e=await s.get("https://zx.10jqka.com.cn/hotblock/proxy/block/platerankinfo",{params:{platetype:"all","client-type":0},timeout:1e4});if(e.data&&e.data.errorcode===0&&e.data.result){const o=[...e.data.result].sort((a,c)=>c.increase-a.increase),r=o.slice(0,10).map(a=>({name:a.platename,code:a.platecode.toString(),changePercent:parseFloat(a.increase||0).toFixed(2)})),n=o.slice(-10).reverse().map(a=>({name:a.platename,code:a.platecode.toString(),changePercent:parseFloat(a.increase||0).toFixed(2)}));return{topRisers:r,topFallers:n,timestamp:new Date().toISOString()}}else return console.warn("获取概念排行数据失败，返回空数据"),{topRisers:[],topFallers:[],timestamp:new Date().toISOString()}}catch(e){return console.error("获取概念排行数据失败:",e),{topRisers:[],topFallers:[],timestamp:new Date().toISOString(),error:e.message}}};export{m as a,d as b,g,w as s};
//# sourceMappingURL=concept-e5241e9d.js.map
