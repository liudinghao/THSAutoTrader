import{_ as v,q as b,s as V,u as w,v as F,r as i,o as n,f as d,d as s,w as a,b as l,e as c,a as N,h as T,t as B}from"./index-a0dcb939.js";import{S as x}from"./StockTable-a6db3d41.js";import"./index-79ad53b8.js";const R={name:"TradingStrategy",components:{Check:b,Search:V,Refresh:w,Loading:F,StockTable:x},props:{loading:{type:Boolean,default:!1}},data(){return{strategyData:{strategyName:"",strategyDescription:""},filteredStocks:[],isFiltering:!1,hasFiltered:!1}},computed:{isStrategyValid(){return this.strategyData.strategyName.trim().length>0&&this.strategyData.strategyDescription.trim().length>0}},methods:{saveStrategy(){if(!this.isStrategyValid)return;const t={name:this.strategyData.strategyName.trim(),description:this.strategyData.strategyDescription.trim(),timestamp:new Date().toISOString()};this.$emit("strategy-saved",t),this.$message({type:"success",message:"策略保存成功!"})},async filterStocks(){if(!this.isStrategyValid){this.$message({type:"warning",message:"请先完善策略信息"});return}this.isFiltering=!0,this.hasFiltered=!0;try{await new Promise(t=>setTimeout(t,2e3)),this.filteredStocks=[{code:"000001",name:"平安银行",price:12.34,change:2.5,speed:1.2,reason_type:"业绩预增"},{code:"000002",name:"万科A",price:18.56,change:-1.2,speed:-.8,reason_type:"政策利好"},{code:"600036",name:"招商银行",price:45.67,change:3.1,speed:1.5,reason_type:"技术突破"}],this.$message({type:"success",message:`筛选完成，找到 ${this.filteredStocks.length} 只符合条件的股票`})}catch{this.$message({type:"error",message:"筛选失败，请重试"})}finally{this.isFiltering=!1}},clearFilter(){this.filteredStocks=[],this.hasFiltered=!1},handleStockClick(t){console.log("点击股票:",t)},handleSortChange({prop:t,order:e}){console.log("排序变化:",t,e)},resetStrategy(){this.strategyData={strategyName:"",strategyDescription:""}},getStrategy(){return{name:this.strategyData.strategyName.trim(),description:this.strategyData.strategyDescription.trim()}},setStrategy(t){t&&(this.strategyData={strategyName:t.name||"",strategyDescription:t.description||""})}}},q={class:"trading-strategy-container"},L={class:"form-actions"},I={class:"card-header"},U={class:"header-actions"},A={key:0,class:"filtering-status"},E={key:1,class:"stock-list"},O={class:"result-summary"},P={key:2,class:"no-result"},j={key:3,class:"empty-state"};function z(t,e,u,G,r,o){const _=i("el-input"),g=i("el-form-item"),m=i("el-button"),h=i("el-form"),p=i("el-card"),k=i("Loading"),S=i("el-icon"),D=i("el-tag"),C=i("stock-table"),f=i("el-empty");return n(),d("div",q,[s(p,{class:"strategy-card"},{header:a(()=>e[2]||(e[2]=[l("div",{class:"card-header"},[l("span",{class:"title"},"交易策略")],-1)])),default:a(()=>[s(h,{ref:"strategyForm",model:r.strategyData,"label-position":"top",class:"strategy-form"},{default:a(()=>[s(g,{label:"策略名称",required:""},{default:a(()=>[s(_,{modelValue:r.strategyData.strategyName,"onUpdate:modelValue":e[0]||(e[0]=y=>r.strategyData.strategyName=y),placeholder:"请输入策略名称",class:"w-full"},null,8,["modelValue"])]),_:1}),s(g,{label:"策略描述",required:""},{default:a(()=>[s(_,{modelValue:r.strategyData.strategyDescription,"onUpdate:modelValue":e[1]||(e[1]=y=>r.strategyData.strategyDescription=y),type:"textarea",rows:8,placeholder:"请详细描述您的交易策略，包括策略类型、风险偏好、仓位管理、止损设置等",class:"w-full"},null,8,["modelValue"])]),_:1}),s(g,null,{default:a(()=>[l("div",L,[s(m,{type:"primary",icon:t.Check,onClick:o.saveStrategy,loading:u.loading,disabled:!o.isStrategyValid},{default:a(()=>e[3]||(e[3]=[c(" 保存策略 ")])),_:1,__:[3]},8,["icon","onClick","loading","disabled"])])]),_:1})]),_:1},8,["model"])]),_:1}),s(p,{class:"stock-result-card"},{header:a(()=>[l("div",I,[e[6]||(e[6]=l("span",{class:"title"},"策略筛选结果",-1)),l("div",U,[s(m,{type:"primary",icon:t.Search,onClick:o.filterStocks,loading:r.isFiltering,disabled:!o.isStrategyValid},{default:a(()=>e[4]||(e[4]=[c(" 根据策略筛选股票 ")])),_:1,__:[4]},8,["icon","onClick","loading","disabled"]),r.filteredStocks.length>0?(n(),N(m,{key:0,icon:t.Refresh,onClick:o.clearFilter},{default:a(()=>e[5]||(e[5]=[c(" 清空结果 ")])),_:1,__:[5]},8,["icon","onClick"])):T("",!0)])])]),default:a(()=>[r.isFiltering?(n(),d("div",A,[s(S,{class:"is-loading"},{default:a(()=>[s(k)]),_:1}),e[7]||(e[7]=l("span",null,"正在根据策略筛选股票...",-1))])):r.filteredStocks.length>0?(n(),d("div",E,[l("div",O,[s(D,{type:"info"},{default:a(()=>[c("共找到 "+B(r.filteredStocks.length)+" 只符合条件的股票",1)]),_:1})]),s(C,{"table-data":r.filteredStocks,loading:!1,"show-k-line":!1,onRowClick:o.handleStockClick,onSortChange:o.handleSortChange},null,8,["table-data","onRowClick","onSortChange"])])):r.hasFiltered?(n(),d("div",P,[s(f,{description:"未找到符合条件的股票"})])):(n(),d("div",j,[s(f,{description:"请先输入策略信息，然后点击筛选按钮"})]))]),_:1})])}const M=v(R,[["render",z],["__scopeId","data-v-a1354cd3"]]);export{M as default};
//# sourceMappingURL=TradingStrategy-7b7b08ef.js.map
